<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class</title>
</head>
<body>
    <script>
        "use strict"
        class User {
            constructor(name) {
                this.name = name;
            }

            sayHi() {
                console.log(this.name);
            }
        }
        let user = new User("John");
        user.sayHi();
        console.log(User === User.prototype.constructor);
        console.log(User.prototype.sayHi);
        console.log(Object.getOwnPropertyNames(User.prototype));
        
        class UserName {
            constructor(name){
                this.name=name;
            }
            get name() {
                return this._name;
            }
            set name(value) {
                return this._name = value;
            }

        }
        let enter = new UserName("John");
        console.log(user.name);
        user = new User("Mike");
        console.log(user.name);

        // 任务
        class Clock {
            constructor({template}) {
                this.template = template;
            }
                render() {
                    let date = new Date();

                    let hours = date.getHours();
                    if(hours<10) hours="0"+hours;
                    let mins = date.getMinutes();
                    if(mins<10) mins="0"+mins;
                    let secs = date.getSeconds();
                    if(secs<10) secs="0"+secs;

                    let output = this.template
                    .replace('h',hours)
                    .replace('m',mins)
                    .replace('s',secs);

                    console.log(output);
                }
            stop() {
                clearInterval(this.timer);
            }
            start(){
                this.render();
                this.timer = setInterval(() => {
                    this.render()
                }, 1000);
            }
        }

        let clock = new Clock({template: 'h:m:s'});
        // clock.start();
        
        // extends关键字
        class Animal{
            constructor(name){
                this.speed = 0;
                this.name = name;
            }
            run(speed){
                this.speed = speed;
            }
            stop(){
                this.speed = 0;
                console.log(`${this.name}is stop.`);
            }
        }
        let animal = new Animal("My animal");
        animal.run(0);
        console.log(`It name is ${animal.name} and speed is ${animal.speed}`);

        class Rabbit extends Animal{
            constructor(name, earLength){
                // super(...arg);
                super(name);
                this.earLength = earLength;
            };
            hide() {
                console.log(`${this.name} hides!`);
            }
            stop(){
                super.stop();//调用了父类的stop()方法
                this.hide();
            }
        }
        let rabbit = new Rabbit("White Rabbit",10);
        rabbit.run(5);
        console.log(`Rabbit speed is ${rabbit.speed}`);
        rabbit.hide();
        rabbit.stop();
        console.log(`Name is ${rabbit.name} earLength is ${rabbit.earLength}`);
    </script>
</body>
</html>